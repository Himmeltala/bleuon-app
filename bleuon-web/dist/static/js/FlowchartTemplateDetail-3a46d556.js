import{d as S,y as p,aw as x,j as N,m as D,S as J,r as B,c as v,b as i,a as t,v as l,u as o,w as r,F as E,s as F,o as n,f as c,t as O,E as j}from"./mainapp-08e4e16e.js";import{E as M}from"./el-tag-d377eb68.js";import{E as z}from"./_plugin-vue_export-helper-5392fbfa.js";import{i as T,o as H}from"./listener-service-07ec6576.js";import{D as R}from"./date-7db10ed7.js";import{r as V,a as G,b as A,c as I}from"./api-template-community-8c9b66ba.js";import{C as L}from"./CommonHeader-64fffeed.js";import"./index-98915564.js";import"./bleuon-icon-ae86a734.js";import"./MenuAvatar.vue_vue_type_script_setup_true_lang-f1256a3a.js";import"./el-dropdown-item-1395b2e6.js";import"./el-popper-5620694e.js";import"./error-3ede30a0.js";import"./el-popover-025678fc.js";import"./event-9519ab40.js";const U={class:"template-community slim-slider h-100vh flow-auto bg-bg-page"},q={class:"content f-c-c mb-5"},K={class:"wrapper w-80vw mt-5"},P={class:"bg-bg-overlay p-5"},Q={class:"f-c-b"},W={class:"font-bold text-1.2rem"},X={class:"f-c-s mt-2 text-text-secondary"},Y=t("div",{class:"i-tabler-clock-edit mr-2"},null,-1),Z={class:"f-c-s"},$={class:"f-c-s mr-4"},tt=t("div",{class:"i-tabler-eye mr-2"},null,-1),et={class:"mr-4"},ot=t("div",{class:"i-tabler-star"},null,-1),st=t("div",{class:"i-tabler-file-import"},null,-1),at=t("div",{class:"f-c-c"},[t("div",{class:"mt-5",id:"bleuon-flowchart-content"})],-1),lt={class:"information mt-5 p-5 bg-bg-overlay"},rt={class:"font-500 text-1.2rem"},it={class:"mt-5"},ct={class:"cursor-pointer f-c-e mt-5"},nt=["src"],Nt=S({__name:"FlowchartTemplateDetail",async setup(dt){let d,u;const s=p(),_=p(),h=x(),e=N();async function w(a){e.value=await I(a)}function g(){G(e.value,a=>j.success(a.message))}function b(){A(e.value)}return[d,u]=D(()=>w({id:h.params.id.toString()})),await d,u(),J(()=>{const a=T({el:"bleuon-flowchart-content",width:"80vw",height:"100vh",gridSize:e.value.flowchart.gridSize,bgColor:e.value.flowchart.bgColor,drawGrid:JSON.parse(e.value.flowchart.drawGrid)});s.value=a.paper,_.value=a.graph,s.value.freeze(),e.value.flowchart.json&&_.value.fromJSON(JSON.parse(e.value.flowchart.json)),s.value.options.linkConnectorConfig=JSON.parse(e.value.flowchart.connectorDefault),s.value.options.linkRouterConfig=JSON.parse(e.value.flowchart.routerDefault),s.value.unfreeze(),s.value.on({"blank:mousewheel":m=>H(m,s.value)}),V({views:e.value.views+1,id:e.value.id})}),(a,m)=>{const f=z,y=M,C=B("router-link");return n(),v("div",U,[i(L),t("div",q,[t("div",K,[t("div",P,[t("div",Q,[t("div",null,[t("div",W,l(o(e).flowchart.fileName),1),t("div",X,[Y,t("span",null,l(o(R).formatted("yyyy-MM-dd HH:mm:ss",o(e).flowchart.modifyDate)),1)])]),t("div",Z,[t("div",$,[tt,t("span",null,l(o(e).views),1)]),t("div",et,[i(f,{onClick:b},{icon:r(()=>[ot]),default:r(()=>[c(l(o(e).stars)+" ",1)]),_:1})]),t("div",null,[i(f,{type:"primary",onClick:g},{icon:r(()=>[st]),default:r(()=>[c(" 导入模板 ")]),_:1})])])]),at]),t("div",lt,[t("div",rt,"描述："+l(o(e).description),1),t("div",it,[(n(!0),v(E,null,F(JSON.parse(o(e).tags),k=>(n(),O(y,{class:"mr-5"},{default:r(()=>[c(l(k),1)]),_:2},1024))),256))]),i(C,{to:"/u/profile/"+o(e).flowchart.user.id},{default:r(()=>[t("div",ct,[t("img",{class:"mr-4 w-10 h-10 rd-50%",src:o(e).flowchart.user.avatar},null,8,nt),c(" 作者："+l(o(e).flowchart.user.username),1)])]),_:1},8,["to"])])])])])}}});export{Nt as default};
//# sourceMappingURL=FlowchartTemplateDetail-3a46d556.js.map
