import{_ as te}from"./bleuon-icon-ae86a734.js";import{d as k,h as J,j as c,q as V,o as p,c as v,b as t,w as i,u as e,a as s,C as ae,M as Q,D as Y,G as X,H as Z,v as T,I as se,J as oe,n as I,t as R,K as D,L as j,p as le,g as re,f as ee,N as ne,E as G,O as ie,P as de,Q as ce,R as me,S as ue,T as pe,k as M,e as _e}from"./mainapp-08e4e16e.js";import{E as U,a as q}from"./el-form-item-37c9ded7.js";import{E as L,_ as ge}from"./_plugin-vue_export-helper-5392fbfa.js";import{E as F}from"./el-input-2e028abd.js";import{a as W,p as z,v as B,e as A,b as N,g as K,u as H,r as S}from"./form-validators-87561f4c.js";import"./error-3ede30a0.js";import"./_Uint8Array-876a1517.js";import"./event-9519ab40.js";const fe=s("span",{class:"font-bold"},"登录",-1),be=k({__name:"AccountLogin",setup(w){const l=J(),m=c(!1),o=c(!1),n=c(),a=V({username:"",password:""}),u=V({username:[{required:!0,message:"请输入账号信息",trigger:"blur"},{validator:W(m),trigger:"change"},{validator:W(m),trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:z(o),trigger:"change"},{validator:z(o),trigger:"blur"}]});function h(){B(n.value,async()=>{ae(a,_=>{localStorage.setToken(Q,_),Y().then(r=>{X(Z,{}).value=r,l.push("/workbench")})})})}return(_,r)=>{const b=F,g=U,y=L,f=q;return p(),v("div",null,[t(f,{ref_key:"formRef",ref:n,model:e(a),rules:e(u)},{default:i(()=>[t(g,{prop:"username"},{default:i(()=>[t(b,{modelValue:e(a).username,"onUpdate:modelValue":r[0]||(r[0]=d=>e(a).username=d),clearable:"",placeholder:"请输入手机号/邮箱/用户名",size:"large"},null,8,["modelValue"])]),_:1}),t(g,{prop:"password"},{default:i(()=>[t(b,{modelValue:e(a).password,"onUpdate:modelValue":r[1]||(r[1]=d=>e(a).password=d),maxlength:16,minlength:8,clearable:"",placeholder:"请输入密码","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),t(g,null,{default:i(()=>[t(y,{disabled:!e(m)||!e(o),class:"w-100%",size:"large",type:"primary",onClick:h},{default:i(()=>[fe]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","rules"])])}}}),ve={class:"f-c-b w-100%"},he={class:"w-70%"},we={class:"w-30% f-c-e"},ye={key:0},Ce={key:1},xe=s("span",{class:"font-bold"},"登录",-1),Ve=k({__name:"EmailLogin",setup(w){const l=J();let m;const o=c(60),n=c(!1),a=c(!1),u=c(!1),h=c(),_=V({email:"",captcha:""}),r=V({email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{validator:A(a),trigger:"change"},{validator:A(a),trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:N(u),trigger:"change"},{validator:N(u),trigger:"blur"}]});function b(){K(m,o,n,y=>{se({email:_.email},()=>y())})}function g(){B(h.value,()=>{oe(_,y=>{localStorage.setToken(Q,y),Y().then(f=>{X(Z,{}).value=f,l.push("/workbench")})})})}return(y,f)=>{const d=F,$=U,C=L,P=q;return p(),v("div",null,[t(P,{ref_key:"formRef",ref:h,model:e(_),rules:e(r)},{default:i(()=>[t($,{prop:"email"},{default:i(()=>[t(d,{modelValue:e(_).email,"onUpdate:modelValue":f[0]||(f[0]=E=>e(_).email=E),clearable:"",placeholder:"请输入邮箱",size:"large"},null,8,["modelValue"])]),_:1}),t($,{prop:"captcha"},{default:i(()=>[s("div",ve,[s("div",he,[t(d,{modelValue:e(_).captcha,"onUpdate:modelValue":f[1]||(f[1]=E=>e(_).captcha=E),maxlength:6,minlength:6,class:"w-100%",clearable:"",placeholder:"请输入验证码",size:"large"},null,8,["modelValue"])]),s("div",we,[t(C,{disabled:e(n)||!e(a),size:"large",onClick:b},{default:i(()=>[e(o)<60&&e(o)>=0?(p(),v("span",ye," 请等待 "+T(e(o))+"s ",1)):(p(),v("span",Ce,"获取验证码"))]),_:1},8,["disabled"])])])]),_:1}),t($,null,{default:i(()=>[t(C,{disabled:!e(a)||!e(u),class:"w-100%",size:"large",type:"primary",onClick:g},{default:i(()=>[xe]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","rules"])])}}}),O=w=>(le("data-v-d61243d4"),w=w(),re(),w),$e={class:"login w-100% h-100% relative f-c-c"},ke={class:"w-40%"},Re=O(()=>s("div",{class:"mb-10 text-1.6rem"},"欢迎使用 BleuOn",-1)),Pe={class:"mb-10 f-c-s"},ze={class:"f-c-b"},Ee=O(()=>s("div",{class:"other-login mt-15 f-c-c text-text-secondary"},[s("div",null,"其他方式登录")],-1)),Ae=O(()=>s("div",{class:"absolute text-center bottom-5 w-40% text-0.8rem text-text-secondary"},[ee(" 登录即表示您已同意"),s("span",{class:"hover"},[s("u",null,"服务条款")])],-1)),Ne=k({__name:"Login",props:{dynamicCompName:{type:String,required:!0}},emits:["update:dynamicCompName"],setup(w){const l=c("AccountLogin"),m={AccountLogin:be,EmailLogin:Ve};function o(n){l.value=n}return(n,a)=>(p(),v("div",$e,[s("div",ke,[Re,s("div",Pe,[s("div",{class:I([e(l)==="AccountLogin"?"active font-bold b-b-solid b-b-primary b-b-2":"text-text-secondary","mr-10 cursor-pointer pb-4 text-1.1rem"]),onClick:a[0]||(a[0]=u=>o("AccountLogin"))}," 账号登录 ",2),s("div",{class:I([e(l)==="EmailLogin"?"active font-bold b-b-solid b-b-primary b-b-2":"text-text-secondary","cursor-pointer pb-4 text-1.1rem"]),onClick:a[1]||(a[1]=u=>o("EmailLogin"))}," 邮箱登录 ",2)]),(p(),R(j,null,[(p(),R(D(m[e(l)])))],1024)),s("div",ze,[s("div",{class:"text-text-secondary cursor-pointer",onClick:a[2]||(a[2]=u=>n.$emit("update:dynamicCompName","FindAccount"))}," 忘记密码？ "),s("div",{class:"text-primary cursor-pointer",onClick:a[3]||(a[3]=u=>n.$emit("update:dynamicCompName","Register"))}," 新用户账号注册 ")]),Ee]),Ae]))}});const Se=ge(Ne,[["__scopeId","data-v-d61243d4"]]),Ue=s("span",{class:"font-bold"},"注册",-1),qe=s("div",{class:"text-text-secondary text-0.8rem text-end mb-4"}," 注：注册后请尽快绑定邮箱，以防账号丢失。 ",-1),Le=k({__name:"AccountRegister",setup(w){const l=V({username:"",password:"",rePasswd:""}),m=c(!1),o=c(!1),n=c(!1),a=c(),u=V({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:H(m),trigger:"change"},{validator:H(m),trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:z(o),trigger:"change"},{validator:z(o),trigger:"blur"}],rePasswd:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:S(n,l),trigger:"change"},{validator:S(n,l),trigger:"blur"}]});function h(){B(a.value,async()=>{ne(l,()=>{G.success("请返回登录页面进行登录！")})})}return(_,r)=>{const b=F,g=U,y=L,f=q;return p(),v("div",null,[t(f,{ref_key:"formRef",ref:a,model:e(l),rules:e(u)},{default:i(()=>[t(g,{prop:"username"},{default:i(()=>[t(b,{modelValue:e(l).username,"onUpdate:modelValue":r[0]||(r[0]=d=>e(l).username=d),maxlength:16,minlength:4,clearable:"",placeholder:"请输入用户名",size:"large"},null,8,["modelValue"])]),_:1}),t(g,{prop:"password"},{default:i(()=>[t(b,{modelValue:e(l).password,"onUpdate:modelValue":r[1]||(r[1]=d=>e(l).password=d),maxlength:16,minlength:8,clearable:"",placeholder:"设置密码：支持任何字符","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),t(g,{prop:"rePasswd"},{default:i(()=>[t(b,{modelValue:e(l).rePasswd,"onUpdate:modelValue":r[2]||(r[2]=d=>e(l).rePasswd=d),maxlength:16,minlength:8,clearable:"",placeholder:"确认密码：两次密码保持一致","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),t(g,null,{default:i(()=>[t(y,{disabled:!e(m)||!e(o)||!e(n),class:"w-100%",size:"large",type:"primary",onClick:h},{default:i(()=>[Ue]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","rules"]),qe])}}}),Fe={class:"f-c-b w-100%"},Be={class:"w-70%"},Ie={class:"w-30% f-c-e"},De={key:0},Me={key:1},Te=s("span",{class:"font-bold"},"注册",-1),je=s("div",{class:"text-text-secondary text-0.8rem text-end mb-4"},"注：注册后可立即前往登录。",-1),Ge=k({__name:"EmailRegister",setup(w){const l=c(60);let m;const o=c(!1),n=c(!1),a=c(!1),u=c(!1),h=c(!1),_=c(),r=V({email:"",captcha:"",password:"",rePasswd:""}),b=V({email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{validator:A(n),trigger:"change"},{validator:A(n),trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:N(a),trigger:"change"},{validator:N(a),trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:z(u),trigger:"change"},{validator:z(u),trigger:"blur"}],rePasswd:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:S(h,r),trigger:"change"},{validator:S(h,r),trigger:"blur"}]});function g(){K(m,l,o,f=>{ie({email:r.email},()=>f())})}function y(){B(_.value,()=>{de(r,{email:r.email,captcha:r.captcha},()=>{G.success("请返回登录页面进行邮箱登录！")})})}return(f,d)=>{const $=F,C=U,P=L,E=q;return p(),v("div",null,[t(E,{ref_key:"formRef",ref:_,model:e(r),rules:e(b)},{default:i(()=>[t(C,{prop:"email"},{default:i(()=>[t($,{modelValue:e(r).email,"onUpdate:modelValue":d[0]||(d[0]=x=>e(r).email=x),clearable:"",placeholder:"请输入邮箱",size:"large"},null,8,["modelValue"])]),_:1}),t(C,{prop:"captcha"},{default:i(()=>[s("div",Fe,[s("div",Be,[t($,{modelValue:e(r).captcha,"onUpdate:modelValue":d[1]||(d[1]=x=>e(r).captcha=x),maxlength:6,minlength:6,class:"w-100%",clearable:"",placeholder:"请输入6位验证码",size:"large"},null,8,["modelValue"])]),s("div",Ie,[t(P,{disabled:e(o)||!e(n),size:"large",onClick:g},{default:i(()=>[e(l)<60&&e(l)>=0?(p(),v("span",De," 请等待 "+T(e(l))+"s ",1)):(p(),v("span",Me,"获取验证码"))]),_:1},8,["disabled"])])])]),_:1}),t(C,{prop:"password"},{default:i(()=>[t($,{modelValue:e(r).password,"onUpdate:modelValue":d[2]||(d[2]=x=>e(r).password=x),maxlength:16,minlength:8,clearable:"",placeholder:"设置密码：支持任何字符","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),t(C,{prop:"rePasswd"},{default:i(()=>[t($,{modelValue:e(r).rePasswd,"onUpdate:modelValue":d[3]||(d[3]=x=>e(r).rePasswd=x),maxlength:16,minlength:8,clearable:"",placeholder:"确认密码：两次密码保持一致","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),t(C,null,{default:i(()=>[t(P,{disabled:!e(n)||!e(a)||!e(u)||!e(h),class:"w-100%",size:"large",type:"primary",onClick:y},{default:i(()=>[Te]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","rules"]),je])}}}),Ke={class:"register w-100% h-100% relative f-c-c"},Oe={class:"w-40%"},We=s("div",{class:"mb-10 text-1.6rem"},"欢迎注册 BleuOn",-1),He={class:"mb-10 f-c-s"},Je=s("div",{class:"absolute text-center bottom-5 w-40% text-0.8rem text-text-secondary"},[ee(" 登录即表示您已同意"),s("span",{class:"hover"},[s("u",null,"服务条款")])],-1),Qe=k({__name:"Register",props:{dynamicCompName:{type:String,required:!0}},emits:["update:dynamicCompName"],setup(w){const l=c("EmailRegister"),m={AccountRegister:Le,EmailRegister:Ge};return(o,n)=>(p(),v("div",Ke,[s("div",Oe,[We,s("div",He,[s("div",{class:I([e(l)==="EmailRegister"?"active font-bold b-b-solid b-b-primary b-b-2":"text-text-secondary","mr-10 cursor-pointer pb-4 text-1.1rem"]),onClick:n[0]||(n[0]=a=>l.value="EmailRegister")}," 邮箱注册 ",2),s("div",{class:I([e(l)==="AccountRegister"?"active font-bold b-b-solid b-b-primary b-b-2":"text-text-secondary","cursor-pointer pb-4 text-1.1rem"]),onClick:n[1]||(n[1]=a=>l.value="AccountRegister")}," 账号注册 ",2)]),(p(),R(j,null,[(p(),R(D(m[e(l)])))],1024)),s("div",{class:"text-primary cursor-pointer f-c-e",onClick:n[2]||(n[2]=a=>o.$emit("update:dynamicCompName","Login"))}," 已经有账号？ ")]),Je]))}}),Ye={class:"f-c-b w-100%"},Xe={class:"w-70%"},Ze={class:"w-30% f-c-e"},et={key:0},tt={key:1},at=s("span",{class:"font-bold"},"点击校验",-1),st=s("span",{class:"font-bold"},"点击下一步",-1),ot=k({__name:"FindAccountVerifyCode",props:{dynamicCompName:{type:String,required:!0},email:{type:String}},emits:["update:dynamicCompName","update:email"],setup(w,{emit:l}){let m;const o=c(60),n=c(!1),a=c(!1),u=c(!1),h=c(),_=V({email:"",captcha:""}),r=V({email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"},{validator:A(a),trigger:"change"},{validator:A(a),trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:N(u),trigger:"change"},{validator:N(u),trigger:"blur"}]});function b(){K(m,o,n,f=>{ce({email:_.email},()=>f())})}const g=c(!1);function y(){B(h.value,()=>{me(_,()=>{g.value=!0,l("update:email",_.email)})})}return(f,d)=>{const $=F,C=U,P=L,E=q;return p(),v("div",null,[t(E,{ref_key:"formRef",ref:h,model:e(_),rules:e(r)},{default:i(()=>[t(C,{prop:"email"},{default:i(()=>[t($,{modelValue:e(_).email,"onUpdate:modelValue":d[0]||(d[0]=x=>e(_).email=x),clearable:"",placeholder:"请输入邮箱",size:"large"},null,8,["modelValue"])]),_:1}),t(C,{prop:"captcha"},{default:i(()=>[s("div",Ye,[s("div",Xe,[t($,{modelValue:e(_).captcha,"onUpdate:modelValue":d[1]||(d[1]=x=>e(_).captcha=x),maxlength:6,minlength:6,class:"w-100%",clearable:"",placeholder:"请输入验证码",size:"large"},null,8,["modelValue"])]),s("div",Ze,[t(P,{disabled:e(n)||!e(a),size:"large",onClick:b},{default:i(()=>[e(o)<60&&e(o)>=0?(p(),v("span",et," 请等待 "+T(e(o))+"s ",1)):(p(),v("span",tt,"获取验证码"))]),_:1},8,["disabled"])])])]),_:1}),t(C,null,{default:i(()=>[e(g)?(p(),R(P,{key:1,disabled:!e(a)||!e(u),class:"w-100%",size:"large",type:"success",onClick:d[2]||(d[2]=x=>f.$emit("update:dynamicCompName","FindAccountRsetPassword"))},{default:i(()=>[st]),_:1},8,["disabled"])):(p(),R(P,{key:0,disabled:!e(a)||!e(u),class:"w-100%",size:"large",type:"primary",onClick:y},{default:i(()=>[at]),_:1},8,["disabled"]))]),_:1})]),_:1},8,["model","rules"])])}}}),lt=s("span",{class:"font-bold"},"确定重置密码",-1),rt=s("div",{class:"text-text-secondary text-0.8rem text-end mb-4"},"注：重置后可立即前往登录。",-1),nt=k({__name:"FindAccountResetPassword",props:{email:{type:String}},setup(w){const l=w,m=c(),o=V({email:"",password:"",rePasswd:""}),n=c(!1),a=c(!1),u=V({password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:z(n),trigger:"change"},{validator:z(n),trigger:"blur"}],rePasswd:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:S(a,o),trigger:"change"},{validator:S(a,o),trigger:"blur"}]});ue(()=>{o.email=l.email});function h(){B(m.value,()=>{pe(o,()=>{G.success("密码重置成功，请返回登录！")})})}return(_,r)=>{const b=F,g=U,y=L,f=q;return p(),v("div",null,[t(f,{ref_key:"formRef",ref:m,model:e(o),rules:e(u)},{default:i(()=>[t(g,{prop:"email"},{default:i(()=>[t(b,{modelValue:e(o).email,"onUpdate:modelValue":r[0]||(r[0]=d=>e(o).email=d),clearable:"",disabled:"",size:"large"},null,8,["modelValue"])]),_:1}),t(g,{prop:"password"},{default:i(()=>[t(b,{modelValue:e(o).password,"onUpdate:modelValue":r[1]||(r[1]=d=>e(o).password=d),maxlength:16,minlength:8,clearable:"",placeholder:"设置密码：支持任何字符","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),t(g,{prop:"rePasswd"},{default:i(()=>[t(b,{modelValue:e(o).rePasswd,"onUpdate:modelValue":r[2]||(r[2]=d=>e(o).rePasswd=d),maxlength:16,minlength:8,clearable:"",placeholder:"确认密码：两次密码保持一致","show-password":"",size:"large"},null,8,["modelValue"])]),_:1}),t(g,null,{default:i(()=>[t(y,{disabled:!e(n)||!e(a),class:"w-100%",size:"large",type:"primary",onClick:h},{default:i(()=>[lt]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","rules"]),rt])}}}),it={class:"find-account w-100% h-100% relative f-c-c"},dt={class:"w-40%"},ct=s("div",{class:"mb-10 text-1.6rem"},"找回您的密码",-1),mt=k({__name:"FindAccount",props:{dynamicCompName:{type:String,required:!0}},emits:["update:dynamicCompName"],setup(w){const l=c("FindAccountVerifyCode"),m={FindAccountRsetPassword:nt,FindAccountVerifyCode:ot},o=c("");return(n,a)=>(p(),v("div",it,[s("div",dt,[ct,(p(),R(j,null,[(p(),R(D(m[e(l)]),{"dynamic-comp-name":e(l),"onUpdate:dynamicCompName":a[0]||(a[0]=u=>M(l)?l.value=u:null),email:e(o),"onUpdate:email":a[1]||(a[1]=u=>M(o)?o.value=u:null)},null,40,["dynamic-comp-name","email"]))],1024)),s("div",{class:"f-c-e text-primary cursor-pointer",onClick:a[2]||(a[2]=u=>n.$emit("update:dynamicCompName","Login"))}," 想起密码？返回登录 ")])]))}}),ut={class:"entrance f-c-c h-100vh"},pt=_e('<div class="w-40% h-100% relative"><img class="w-45 h-15 object-cover absolute top-10 left-10" src="'+te+'"><div class="absolute top-50% left-30 color-gray-100 text-2rem"> 在同一个地方，构思、设计<br> ，让你更加高效<br><span class="text-1rem">√永久免费 √实时在线 √设计/原型/开发</span></div><div class="absolute bottom-10 left-10 color-gray-200 text-0.9rem"> © 2023 郑人滏. All rights reserved. </div><img class="w-100% h-100% object-fill" src="https://img.js.design/assets/Resources/background/login-bg-5.jpg"></div>',1),_t={class:"w-60% h-100%"},Vt=k({__name:"Entrance",setup(w){const l={Login:Se,Register:Qe,FindAccount:mt},m=c("Login");return(o,n)=>(p(),v("div",ut,[pt,s("div",_t,[(p(),R(D(l[e(m)]),{"dynamic-comp-name":e(m),"onUpdate:dynamicCompName":n[0]||(n[0]=a=>M(m)?m.value=a:null)},null,40,["dynamic-comp-name"]))])]))}});export{Vt as default};
//# sourceMappingURL=Entrance-0dca3c27.js.map
