import{bB as te,V as oe,a$ as N,W as ne,as as P,ag as K,ah as U,d as W,Z as ie,a6 as m,j as B,aX as se,_ as O,S as le,o as i,c as _,a as s,u as a,n as p,x as ce,t as v,w as n,K as C,a8 as w,z as h,v as F,b as u,bR as re,a1 as Z,au as ue,a2 as de,$ as ve,bS as J,a3 as fe,an as pe,G as Q,H as me,bT as he,r as be,k as _e,f as S,l as ye}from"./mainapp-08e4e16e.js";import{d as ge,a as we,e as ke,b as Ce,u as Se}from"./_plugin-vue_export-helper-5392fbfa.js";import{a as Ie,b as Ve,E as Ee}from"./el-dropdown-item-1395b2e6.js";import"./el-popper-5620694e.js";import{E as Te}from"./el-popover-025678fc.js";import{U as R,C as H,I as L}from"./event-9519ab40.js";import{d as Ne,t as Pe}from"./error-3ede30a0.js";const Be=l=>["",...te].includes(l),Ae=oe({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Be},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:N},activeActionIcon:{type:N},activeIcon:{type:N},inactiveIcon:{type:N},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ne(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1}}),De={[R]:l=>P(l)||K(l)||U(l),[H]:l=>P(l)||K(l)||U(l),[L]:l=>P(l)||K(l)||U(l)},Me=["onClick"],ze=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],$e=["aria-hidden"],Ke=["aria-hidden"],Ue=["aria-hidden"],G="ElSwitch",Oe=W({name:G}),Fe=W({...Oe,props:Ae,emits:De,setup(l,{expose:I,emit:b}){const t=l,V=fe(),{formItem:f}=ge(),A=we(),o=ie("switch");(e=>{e.forEach(r=>{Se({from:r[0],replacement:r[1],scope:G,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},m(()=>{var T;return!!((T=V.vnode.props)!=null&&T[r[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:g}=ke(t,{formItemContext:f}),d=Ce(m(()=>t.loading)),k=B(t.modelValue!==!1),y=B(),M=B(),z=m(()=>[o.b(),o.m(A.value),o.is("disabled",d.value),o.is("checked",c.value)]),$=m(()=>[o.e("label"),o.em("label","left"),o.is("active",!c.value)]),Y=m(()=>[o.e("label"),o.em("label","right"),o.is("active",c.value)]),x=m(()=>({width:se(t.width)}));O(()=>t.modelValue,()=>{k.value=!0}),O(()=>t.value,()=>{k.value=!1});const j=m(()=>k.value?t.modelValue:t.value),c=m(()=>j.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(j.value)||(b(R,t.inactiveValue),b(H,t.inactiveValue),b(L,t.inactiveValue)),O(c,e=>{var r;y.value.checked=e,t.validateEvent&&((r=f==null?void 0:f.validate)==null||r.call(f,"change").catch(T=>Ne()))});const E=()=>{const e=c.value?t.inactiveValue:t.activeValue;b(R,e),b(H,e),b(L,e),ve(()=>{y.value.checked=c.value})},q=()=>{if(d.value)return;const{beforeChange:e}=t;if(!e){E();return}const r=e();[J(r),P(r)].includes(!0)||Pe(G,"beforeChange must return type `Promise<boolean>` or `boolean`"),J(r)?r.then(X=>{X&&E()}).catch(X=>{}):r&&E()},ee=m(()=>o.cssVarBlock({...t.activeColor?{"on-color":t.activeColor}:null,...t.inactiveColor?{"off-color":t.inactiveColor}:null,...t.borderColor?{"border-color":t.borderColor}:null})),ae=()=>{var e,r;(r=(e=y.value)==null?void 0:e.focus)==null||r.call(e)};return le(()=>{y.value.checked=c.value}),I({focus:ae,checked:c}),(e,r)=>(i(),_("div",{class:p(a(z)),style:Z(a(ee)),onClick:ue(q,["prevent"])},[s("input",{id:a(g),ref_key:"input",ref:y,class:p(a(o).e("input")),type:"checkbox",role:"switch","aria-checked":a(c),"aria-disabled":a(d),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(d),tabindex:e.tabindex,onChange:E,onKeydown:ce(q,["enter"])},null,42,ze),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),_("span",{key:0,class:p(a($))},[e.inactiveIcon?(i(),v(a(w),{key:0},{default:n(()=>[(i(),v(C(e.inactiveIcon)))]),_:1})):h("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),_("span",{key:1,"aria-hidden":a(c)},F(e.inactiveText),9,$e)):h("v-if",!0)],2)):h("v-if",!0),s("span",{ref_key:"core",ref:M,class:p(a(o).e("core")),style:Z(a(x))},[e.inlinePrompt?(i(),_("div",{key:0,class:p(a(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),v(a(w),{key:0,class:p(a(o).is("icon"))},{default:n(()=>[(i(),v(C(a(c)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(i(),_("span",{key:1,class:p(a(o).is("text")),"aria-hidden":!a(c)},F(a(c)?e.activeText:e.inactiveText),11,Ke)):h("v-if",!0)],2)):h("v-if",!0),s("div",{class:p(a(o).e("action"))},[e.loading?(i(),v(a(w),{key:0,class:p(a(o).is("loading"))},{default:n(()=>[u(a(re))]),_:1},8,["class"])):e.activeActionIcon&&a(c)?(i(),v(a(w),{key:1},{default:n(()=>[(i(),v(C(e.activeActionIcon)))]),_:1})):e.inactiveActionIcon&&!a(c)?(i(),v(a(w),{key:2},{default:n(()=>[(i(),v(C(e.inactiveActionIcon)))]),_:1})):h("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),_("span",{key:1,class:p(a(Y))},[e.activeIcon?(i(),v(a(w),{key:0},{default:n(()=>[(i(),v(C(e.activeIcon)))]),_:1})):h("v-if",!0),!e.activeIcon&&e.activeText?(i(),_("span",{key:1,"aria-hidden":!a(c)},F(e.activeText),9,Ue)):h("v-if",!0)],2)):h("v-if",!0)],14,Me))}});var Re=de(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const He=pe(Re);const Le={class:"f-c-c relative"},Ge=["src"],We={class:"b-b-solid b-border-primary b-b-1 pb-2 mb-2"},je=s("div",{class:"f-c-s"},[s("div",{class:"i-tabler-files mr-2"}),S(" 个人文件 ")],-1),qe=s("div",{class:"f-c-s"},[s("div",{class:"i-tabler-user mr-2"}),S(" 个人资料 ")],-1),Xe=s("div",{class:"f-c-s"},[s("div",{class:"i-tabler-user mr-2"}),S(" 个人主页 ")],-1),Ze={class:"b-b-solid b-border-primary b-b-1 pb-2 mb-2"},Je=s("div",{class:"f-c-s"},[s("div",{class:"i-tabler-home mr-2"}),S(" 官网首页 ")],-1),Qe=s("div",{class:"f-c-s"},[s("div",{class:"i-tabler-logout mr-2"}),S(" 退出登录 ")],-1),ia=W({__name:"MenuAvatar",setup(l){const I=Q(me,{});function b(){ye(()=>{location.reload()})}const t=document.querySelector("html"),V=Q(he,""),f=B(V.value=="dark");function A(){const o=f.value?"dark":"light";t.className=o,V.value=o}return(o,D)=>{const g=be("router-link"),d=Ie,k=He,y=Te,M=Ve,z=Ee;return i(),_("div",Le,[u(z,{teleported:!1},{dropdown:n(()=>[u(M,null,{default:n(()=>[s("div",We,[u(d,null,{default:n(()=>[u(g,{to:"/workbench"},{default:n(()=>[je]),_:1})]),_:1}),u(d,null,{default:n(()=>[u(g,{to:"/u/setting"},{default:n(()=>[qe]),_:1})]),_:1}),u(d,null,{default:n(()=>[u(g,{to:"/u/profile/"+a(I).id},{default:n(()=>[Xe]),_:1},8,["to"])]),_:1})]),s("div",Ze,[u(d,null,{default:n(()=>[u(g,{to:"/"},{default:n(()=>[Je]),_:1})]),_:1}),u(d,null,{default:n(()=>[u(k,{onChange:A,"active-text":a(f)?"黑夜":"白天",size:"small",modelValue:a(f),"onUpdate:modelValue":D[0]||(D[0]=$=>_e(f)?f.value=$:null)},null,8,["active-text","modelValue"])]),_:1})]),s("div",null,[u(d,null,{default:n(()=>[u(y,{title:"是否确定退出登录？",onConfirm:b},{reference:n(()=>[Qe]),_:1})]),_:1})])]),_:1})]),default:n(()=>[s("img",{class:"rd-50% w-10 h-10 cursor-pointer",src:a(I).avatar},null,8,Ge)]),_:1})])}}});export{ia as _,Be as i};
//# sourceMappingURL=MenuAvatar.vue_vue_type_script_setup_true_lang-f1256a3a.js.map
