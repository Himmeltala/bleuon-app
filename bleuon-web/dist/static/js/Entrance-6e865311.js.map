{"version":3,"file":"Entrance-6e865311.js","sources":["../../../apps/mainapp/views/entrance/components/AccountLogin.vue","../../../apps/mainapp/views/entrance/components/EmailLogin.vue","../../../apps/mainapp/views/entrance/Login.vue","../../../apps/mainapp/views/entrance/components/AccountRegister.vue","../../../apps/mainapp/views/entrance/components/EmailRegister.vue","../../../apps/mainapp/views/entrance/Register.vue","../../../apps/mainapp/views/entrance/components/FindAccountVerifyCode.vue","../../../apps/mainapp/views/entrance/components/FindAccountResetPassword.vue","../../../apps/mainapp/views/entrance/FindAccount.vue","../../../apps/mainapp/views/entrance/Entrance.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { UserApi } from \"@mainapp/apis\";\nimport type { FormRules } from \"element-plus\";\nimport { accountValidator, passwordValidator, commitForm } from \"@common/utils/form-validators\";\n\nconst router = useRouter();\n\nconst isAccountCorrect = ref(false);\nconst isPasswordCorrect = ref(false);\n\nconst formRef = ref();\nconst formData = reactive<IUser>({\n  username: \"\",\n  password: \"\"\n});\nconst formRules = reactive<FormRules>({\n  username: [\n    { required: true, message: \"请输入账号信息\", trigger: \"blur\" },\n    { validator: accountValidator(isAccountCorrect), trigger: \"change\" },\n    { validator: accountValidator(isAccountCorrect), trigger: \"blur\" }\n  ],\n  password: [\n    {\n      required: true,\n      message: \"请输入密码\",\n      trigger: \"blur\"\n    },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"change\" },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"blur\" }\n  ]\n});\n\nfunction confirmLogin() {\n  commitForm(formRef.value, async () => {\n    UserApi.accountLogin(formData, () => {\n      router.push(\"/home\");\n    });\n  });\n}\n</script>\n\n<template>\n  <div>\n    <el-form ref=\"formRef\" :rules=\"formRules\" :model=\"formData\">\n      <el-form-item prop=\"username\">\n        <el-input\n          clearable\n          size=\"large\"\n          v-model=\"formData.username\"\n          placeholder=\"请输入手机号/邮箱/用户名\" />\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input\n          clearable\n          :maxlength=\"16\"\n          :minlength=\"8\"\n          size=\"large\"\n          v-model=\"formData.password\"\n          placeholder=\"请输入密码\"\n          show-password />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          :disabled=\"!isAccountCorrect || !isPasswordCorrect\"\n          @click=\"confirmLogin\"\n          size=\"large\"\n          class=\"w-100%\"\n          type=\"primary\">\n          <span class=\"font-bold\">登录</span>\n        </el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\nimport { UserApi } from \"@mainapp/apis\";\nimport {\n  emailValidator,\n  verifyCodeValidator,\n  getVerifyCode,\n  commitForm\n} from \"@common/utils/form-validators\";\nimport type { FormRules } from \"element-plus\";\n\nconst router = useRouter();\n\nlet interval: number;\nconst coudButtonCount = ref(60);\nconst codeButtonDisabled = ref(false);\nconst isEmailCorrect = ref(false);\nconst isCodeCorrect = ref(false);\n\nconst formRef = ref();\nconst formData = reactive({\n  email: \"\",\n  code: \"\"\n});\n\nconst formRules = reactive<FormRules>({\n  email: [\n    { required: true, message: \"请输入电子邮箱\", trigger: \"blur\" },\n    { validator: emailValidator(isEmailCorrect), trigger: \"change\" },\n    { validator: emailValidator(isEmailCorrect), trigger: \"blur\" }\n  ],\n  code: [\n    {\n      required: true,\n      message: \"请输入验证码\",\n      trigger: \"blur\"\n    },\n    { validator: verifyCodeValidator(isCodeCorrect), trigger: \"change\" },\n    { validator: verifyCodeValidator(isCodeCorrect), trigger: \"blur\" }\n  ]\n});\n\nfunction confirmGetVerifyCode() {\n  getVerifyCode(interval, coudButtonCount, codeButtonDisabled, (callback: any) => {\n    UserApi.askMailVerifyCode(formData.email, \"login\", () => callback());\n  });\n}\n\nfunction confirmSubmitForm() {\n  commitForm(formRef.value, () => {\n    UserApi.verifyMailCode(formData, formData.code, \"login\", () => {\n      router.push(\"/home\");\n    });\n  });\n}\n</script>\n\n<template>\n  <div>\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"formRules\">\n      <el-form-item prop=\"email\">\n        <el-input clearable size=\"large\" v-model=\"formData.email\" placeholder=\"请输入邮箱\" />\n      </el-form-item>\n      <el-form-item prop=\"code\">\n        <div class=\"f-c-b w-100%\">\n          <div class=\"w-70%\">\n            <el-input\n              :maxlength=\"6\"\n              :minlength=\"6\"\n              clearable\n              class=\"w-100%\"\n              size=\"large\"\n              v-model=\"formData.code\"\n              placeholder=\"请输入验证码\" />\n          </div>\n          <div class=\"w-30% f-c-e\">\n            <el-button\n              :disabled=\"codeButtonDisabled || !isEmailCorrect\"\n              size=\"large\"\n              @click=\"confirmGetVerifyCode\">\n              <span v-if=\"coudButtonCount < 60 && coudButtonCount >= 0\">\n                请等待 {{ coudButtonCount }}s\n              </span>\n              <span v-else>获取验证码</span>\n            </el-button>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          @click=\"confirmSubmitForm\"\n          :disabled=\"!isEmailCorrect || !isCodeCorrect\"\n          size=\"large\"\n          class=\"w-100%\"\n          type=\"primary\">\n          <span class=\"font-bold\">登录</span>\n        </el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\n/**\n * @description 登录页\n * @author 郑人滏 42020306\n * @since 2023/8/23\n * @link https://github.com/himmelbleu/bleuon-app\n */\n\nimport AccountLogin from \"./components/AccountLogin.vue\";\nimport EmailLogin from \"./components/EmailLogin.vue\";\n\ndefineProps({\n  dynamicCompName: {\n    type: String,\n    required: true\n  }\n});\ndefineEmits([\"update:dynamicCompName\"]);\n\ntype TabIndexType = \"AccountLogin\" | \"EmailLogin\";\n\nconst tabIndex = ref<TabIndexType>(\"AccountLogin\");\nconst tabs = {\n  AccountLogin,\n  EmailLogin\n};\n\nfunction changeTabIndex(name: TabIndexType) {\n  tabIndex.value = name;\n}\n</script>\n\n<template>\n  <div class=\"login w-100% h-100% relative f-c-c\">\n    <div class=\"w-40%\">\n      <div class=\"mb-10 text-1.6rem\">欢迎使用 BleuOn</div>\n      <div class=\"mb-10 f-c-s\">\n        <div\n          @click=\"changeTabIndex('AccountLogin')\"\n          class=\"mr-10 cursor-pointer pb-4 text-1.1rem\"\n          :class=\"\n            tabIndex === 'AccountLogin'\n              ? 'active font-bold b-b-solid b-b-primary b-b-2'\n              : 'text-text-secondary'\n          \">\n          账号登录\n        </div>\n        <div\n          @click=\"changeTabIndex('EmailLogin')\"\n          class=\"cursor-pointer pb-4 text-1.1rem\"\n          :class=\"\n            tabIndex === 'EmailLogin'\n              ? 'active font-bold b-b-solid b-b-primary b-b-2'\n              : 'text-text-secondary'\n          \">\n          邮箱登录\n        </div>\n      </div>\n      <KeepAlive>\n        <component :is=\"tabs[tabIndex]\"></component>\n      </KeepAlive>\n      <div class=\"f-c-b\">\n        <div\n          class=\"text-text-secondary cursor-pointer\"\n          @click=\"$emit('update:dynamicCompName', 'FindAccount')\">\n          忘记密码？\n        </div>\n        <div\n          class=\"text-primary cursor-pointer\"\n          @click=\"$emit('update:dynamicCompName', 'Register')\">\n          新用户账号注册\n        </div>\n      </div>\n      <div class=\"other-login mt-15 f-c-c text-text-secondary\">\n        <div>其他方式登录</div>\n      </div>\n    </div>\n    <div class=\"absolute text-center bottom-5 w-40% text-0.8rem text-text-secondary\">\n      登录即表示您已同意<span class=\"hover\"><u>服务条款</u></span>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.other-login {\n  position: relative;\n\n  &::before {\n    content: \"\";\n    width: 90px;\n    height: 1px;\n    background: #dde0e4;\n    position: absolute;\n    left: 2rem;\n  }\n\n  &::after {\n    content: \"\";\n    width: 90px;\n    height: 1px;\n    background: #dde0e4;\n    position: absolute;\n    right: 2rem;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { FormRules } from \"element-plus\";\nimport {\n  usernameValidator,\n  passwordValidator,\n  rePasswdValidator,\n  commitForm\n} from \"@common/utils/form-validators\";\nimport { UserApi } from \"@mainapp/apis\";\n\nconst formData = reactive({\n  username: \"\",\n  password: \"\",\n  rePasswd: \"\"\n});\nconst isUnameCorrect = ref(false);\nconst isPasswordCorrect = ref(false);\nconst isRePasswdCorrect = ref(false);\nconst formRef = ref();\nconst formRules = reactive<FormRules>({\n  username: [\n    { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n    { validator: usernameValidator(isUnameCorrect), trigger: \"change\" },\n    { validator: usernameValidator(isUnameCorrect), trigger: \"blur\" }\n  ],\n  password: [\n    {\n      required: true,\n      message: \"请输入密码\",\n      trigger: \"blur\"\n    },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"change\" },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"blur\" }\n  ],\n  rePasswd: [\n    {\n      required: true,\n      message: \"请确认密码\",\n      trigger: \"blur\"\n    },\n    { validator: rePasswdValidator(isRePasswdCorrect, formData), trigger: \"change\" },\n    { validator: rePasswdValidator(isRePasswdCorrect, formData), trigger: \"blur\" }\n  ]\n});\n\nfunction confirmRegister() {\n  commitForm(formRef.value, async () => {\n    UserApi.accountRegister(formData, () => {\n      ElMessage({\n        type: \"success\",\n        message: \"恭喜您，请返回登录页面进行登录！\",\n        grouping: true\n      });\n    });\n  });\n}\n</script>\n\n<template>\n  <div>\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"formRules\">\n      <el-form-item prop=\"username\">\n        <el-input\n          :maxlength=\"16\"\n          :minlength=\"4\"\n          clearable\n          size=\"large\"\n          v-model=\"formData.username\"\n          placeholder=\"请输入用户名\" />\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input\n          clearable\n          :maxlength=\"16\"\n          :minlength=\"8\"\n          size=\"large\"\n          v-model=\"formData.password\"\n          placeholder=\"设置密码：支持任何字符\"\n          show-password />\n      </el-form-item>\n      <el-form-item prop=\"rePasswd\">\n        <el-input\n          clearable\n          :maxlength=\"16\"\n          :minlength=\"8\"\n          size=\"large\"\n          v-model=\"formData.rePasswd\"\n          placeholder=\"确认密码：两次密码保持一致\"\n          show-password />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          :disabled=\"!isUnameCorrect || !isPasswordCorrect || !isRePasswdCorrect\"\n          @click=\"confirmRegister\"\n          size=\"large\"\n          class=\"w-100%\"\n          type=\"primary\">\n          <span class=\"font-bold\">注册</span>\n        </el-button>\n      </el-form-item>\n    </el-form>\n    <div class=\"text-text-secondary text-0.8rem text-end mb-4\">\n      注：注册后请尽快绑定邮箱，以防账号丢失。\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\nimport type { FormRules } from \"element-plus\";\nimport {\n  emailValidator,\n  verifyCodeValidator,\n  passwordValidator,\n  rePasswdValidator,\n  getVerifyCode,\n  commitForm\n} from \"@common/utils/form-validators\";\nimport { UserApi } from \"@mainapp/apis\";\n\nconst coudButtonCount = ref(60);\nlet interval: number;\nconst codeButtonDisabled = ref(false);\nconst isEmailCorrect = ref(false);\nconst isCodeCorrect = ref(false);\nconst isPasswordCorrect = ref(false);\nconst isRePasswdCorrect = ref(false);\n\nconst formRef = ref();\nconst formData = reactive({\n  email: \"\",\n  code: \"\",\n  password: \"\",\n  rePasswd: \"\"\n});\n\nconst formRules = reactive<FormRules>({\n  email: [\n    { required: true, message: \"请输入电子邮箱\", trigger: \"blur\" },\n    { validator: emailValidator(isEmailCorrect), trigger: \"change\" },\n    { validator: emailValidator(isEmailCorrect), trigger: \"blur\" }\n  ],\n  code: [\n    {\n      required: true,\n      message: \"请输入验证码\",\n      trigger: \"blur\"\n    },\n    { validator: verifyCodeValidator(isCodeCorrect), trigger: \"change\" },\n    { validator: verifyCodeValidator(isCodeCorrect), trigger: \"blur\" }\n  ],\n  password: [\n    {\n      required: true,\n      message: \"请输入密码\",\n      trigger: \"blur\"\n    },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"change\" },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"blur\" }\n  ],\n  rePasswd: [\n    {\n      required: true,\n      message: \"请确认密码\",\n      trigger: \"blur\"\n    },\n    { validator: rePasswdValidator(isRePasswdCorrect, formData), trigger: \"change\" },\n    { validator: rePasswdValidator(isRePasswdCorrect, formData), trigger: \"blur\" }\n  ]\n});\n\nfunction confirmGetVerifyCode() {\n  getVerifyCode(interval, coudButtonCount, codeButtonDisabled, (callback: any) => {\n    UserApi.askMailVerifyCode(formData.email, \"register\", () => callback());\n  });\n}\n\nfunction confirmSubmitForm() {\n  commitForm(formRef.value, () => {\n    UserApi.verifyMailCode(formData, formData.code, \"register\", () => {\n      ElMessage({\n        type: \"success\",\n        message: \"恭喜您，请返回登录页面进行邮箱登录！\",\n        grouping: true\n      });\n    });\n  });\n}\n</script>\n\n<template>\n  <div>\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"formRules\">\n      <el-form-item prop=\"email\">\n        <el-input clearable size=\"large\" v-model=\"formData.email\" placeholder=\"请输入邮箱\" />\n      </el-form-item>\n      <el-form-item prop=\"code\">\n        <div class=\"f-c-b w-100%\">\n          <div class=\"w-70%\">\n            <el-input\n              :maxlength=\"6\"\n              :minlength=\"6\"\n              clearable\n              class=\"w-100%\"\n              size=\"large\"\n              v-model=\"formData.code\"\n              placeholder=\"请输入验证码\" />\n          </div>\n          <div class=\"w-30% f-c-e\">\n            <el-button\n              :disabled=\"codeButtonDisabled || !isEmailCorrect\"\n              size=\"large\"\n              @click=\"confirmGetVerifyCode\">\n              <span v-if=\"coudButtonCount < 60 && coudButtonCount >= 0\">\n                请等待 {{ coudButtonCount }}s\n              </span>\n              <span v-else>获取验证码</span>\n            </el-button>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input\n          clearable\n          :maxlength=\"16\"\n          :minlength=\"8\"\n          size=\"large\"\n          v-model=\"formData.password\"\n          placeholder=\"设置密码：支持任何字符\"\n          show-password />\n      </el-form-item>\n      <el-form-item prop=\"rePasswd\">\n        <el-input\n          clearable\n          :maxlength=\"16\"\n          :minlength=\"8\"\n          size=\"large\"\n          v-model=\"formData.rePasswd\"\n          placeholder=\"确认密码：两次密码保持一致\"\n          show-password />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          @click=\"confirmSubmitForm\"\n          :disabled=\"!isEmailCorrect || !isCodeCorrect || !isPasswordCorrect || !isRePasswdCorrect\"\n          size=\"large\"\n          class=\"w-100%\"\n          type=\"primary\">\n          <span class=\"font-bold\">注册</span>\n        </el-button>\n      </el-form-item>\n    </el-form>\n    <div class=\"text-text-secondary text-0.8rem text-end mb-4\">注：注册后可立即前往登录。</div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\n/**\n * @description 注册页\n * @author 郑人滏 42020306\n * @since 2023/8/23\n * @link https://github.com/himmelbleu/bleuon-app\n */\n\nimport AccountRegister from \"./components/AccountRegister.vue\";\nimport EmailRegister from \"./components/EmailRegister.vue\";\n\ndefineProps({\n  dynamicCompName: {\n    type: String,\n    required: true\n  }\n});\ndefineEmits([\"update:dynamicCompName\"]);\n\nconst tabIndex = ref<\"AccountRegister\" | \"EmailRegister\">(\"EmailRegister\");\nconst tabs = {\n  AccountRegister,\n  EmailRegister\n};\n</script>\n\n<template>\n  <div class=\"register w-100% h-100% relative f-c-c\">\n    <div class=\"w-40%\">\n      <div class=\"mb-10 text-1.6rem\">欢迎注册 BleuOn</div>\n      <div class=\"mb-10 f-c-s\">\n        <div\n          @click=\"tabIndex = 'EmailRegister'\"\n          class=\"mr-10 cursor-pointer pb-4 text-1.1rem\"\n          :class=\"\n            tabIndex === 'EmailRegister'\n              ? 'active font-bold b-b-solid b-b-primary b-b-2'\n              : 'text-text-secondary'\n          \">\n          邮箱注册\n        </div>\n        <div\n          @click=\"tabIndex = 'AccountRegister'\"\n          class=\"cursor-pointer pb-4 text-1.1rem\"\n          :class=\"\n            tabIndex === 'AccountRegister'\n              ? 'active font-bold b-b-solid b-b-primary b-b-2'\n              : 'text-text-secondary'\n          \">\n          账号注册\n        </div>\n      </div>\n      <KeepAlive>\n        <component :is=\"tabs[tabIndex]\"></component>\n      </KeepAlive>\n      <div\n        class=\"text-primary cursor-pointer f-c-e\"\n        @click=\"$emit('update:dynamicCompName', 'Login')\">\n        已经有账号？\n      </div>\n    </div>\n    <div class=\"absolute text-center bottom-5 w-40% text-0.8rem text-text-secondary\">\n      登录即表示您已同意<span class=\"hover\"><u>服务条款</u></span>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { UserApi } from \"@mainapp/apis\";\nimport {\n  emailValidator,\n  verifyCodeValidator,\n  getVerifyCode,\n  commitForm\n} from \"@common/utils/form-validators\";\nimport type { FormRules } from \"element-plus\";\n\ndefineProps({\n  dynamicCompName: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String\n  }\n});\nconst emits = defineEmits([\"update:dynamicCompName\", \"update:email\"]);\n\nlet interval: number;\nconst coudButtonCount = ref(60);\nconst codeButtonDisabled = ref(false);\nconst isEmailCorrect = ref(false);\nconst isCodeCorrect = ref(false);\n\nconst formRef = ref();\nconst formData = reactive({\n  email: \"\",\n  code: \"\"\n});\n\nconst formRules = reactive<FormRules>({\n  email: [\n    { required: true, message: \"请输入电子邮箱\", trigger: \"blur\" },\n    { validator: emailValidator(isEmailCorrect), trigger: \"change\" },\n    { validator: emailValidator(isEmailCorrect), trigger: \"blur\" }\n  ],\n  code: [\n    {\n      required: true,\n      message: \"请输入验证码\",\n      trigger: \"blur\"\n    },\n    { validator: verifyCodeValidator(isCodeCorrect), trigger: \"change\" },\n    { validator: verifyCodeValidator(isCodeCorrect), trigger: \"blur\" }\n  ]\n});\n\nfunction confirmGetVerifyCode() {\n  getVerifyCode(interval, coudButtonCount, codeButtonDisabled, (callback: any) => {\n    UserApi.askMailVerifyCode(formData.email, \"reset\", () => callback());\n  });\n}\n\nconst isVerifySuccess = ref(false);\n\nfunction confirmSubmitForm() {\n  commitForm(formRef.value,  () => {\n    UserApi.verifyMailCode(formData, formData.code, \"reset\", () => {\n      isVerifySuccess.value = true;\n      emits(\"update:email\", formData.email);\n    });\n  });\n}\n</script>\n\n<template>\n  <div>\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"formRules\">\n      <el-form-item prop=\"email\">\n        <el-input clearable size=\"large\" v-model=\"formData.email\" placeholder=\"请输入邮箱\" />\n      </el-form-item>\n      <el-form-item prop=\"code\">\n        <div class=\"f-c-b w-100%\">\n          <div class=\"w-70%\">\n            <el-input\n              :maxlength=\"6\"\n              :minlength=\"6\"\n              clearable\n              class=\"w-100%\"\n              size=\"large\"\n              v-model=\"formData.code\"\n              placeholder=\"请输入验证码\" />\n          </div>\n          <div class=\"w-30% f-c-e\">\n            <el-button\n              :disabled=\"codeButtonDisabled || !isEmailCorrect\"\n              size=\"large\"\n              @click=\"confirmGetVerifyCode\">\n              <span v-if=\"coudButtonCount < 60 && coudButtonCount >= 0\">\n                请等待 {{ coudButtonCount }}s\n              </span>\n              <span v-else>获取验证码</span>\n            </el-button>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          v-if=\"!isVerifySuccess\"\n          @click=\"confirmSubmitForm\"\n          :disabled=\"!isEmailCorrect || !isCodeCorrect\"\n          size=\"large\"\n          class=\"w-100%\"\n          type=\"primary\">\n          <span class=\"font-bold\">点击校验</span>\n        </el-button>\n        <el-button\n          v-else\n          @click=\"$emit('update:dynamicCompName', 'FindAccountRsetPassword')\"\n          :disabled=\"!isEmailCorrect || !isCodeCorrect\"\n          size=\"large\"\n          class=\"w-100%\"\n          type=\"success\">\n          <span class=\"font-bold\">点击下一步</span>\n        </el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\nimport type { FormRules } from \"element-plus\";\nimport { passwordValidator, rePasswdValidator, commitForm } from \"@common/utils/form-validators\";\nimport { UserApi } from \"@mainapp/apis\";\n\nconst props = defineProps({\n  email: {\n    type: String\n  }\n});\n\nconst formRef = ref();\nconst formData = reactive({\n  email: \"\",\n  password: \"\",\n  rePasswd: \"\"\n});\n\nconst isPasswordCorrect = ref(false);\nconst isRePasswdCorrect = ref(false);\n\nconst formRules = reactive<FormRules>({\n  password: [\n    {\n      required: true,\n      message: \"请输入密码\",\n      trigger: \"blur\"\n    },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"change\" },\n    { validator: passwordValidator(isPasswordCorrect), trigger: \"blur\" }\n  ],\n  rePasswd: [\n    {\n      required: true,\n      message: \"请确认密码\",\n      trigger: \"blur\"\n    },\n    { validator: rePasswdValidator(isRePasswdCorrect, formData), trigger: \"change\" },\n    { validator: rePasswdValidator(isRePasswdCorrect, formData), trigger: \"blur\" }\n  ]\n});\n\nonMounted(() => {\n  formData.email = props.email;\n});\n\nfunction confirmSubmitForm() {\n  commitForm(formRef.value, () => {\n    UserApi.resetPassword(formData, () => {\n      ElMessage.success(\"密码重置成功，请返回登录！\");\n    });\n  });\n}\n</script>\n\n<template>\n  <div>\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"formRules\">\n      <el-form-item prop=\"email\">\n        <el-input disabled clearable size=\"large\" v-model=\"formData.email\" />\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input\n          clearable\n          :maxlength=\"16\"\n          :minlength=\"8\"\n          size=\"large\"\n          v-model=\"formData.password\"\n          placeholder=\"设置密码：支持任何字符\"\n          show-password />\n      </el-form-item>\n      <el-form-item prop=\"rePasswd\">\n        <el-input\n          clearable\n          :maxlength=\"16\"\n          :minlength=\"8\"\n          size=\"large\"\n          v-model=\"formData.rePasswd\"\n          placeholder=\"确认密码：两次密码保持一致\"\n          show-password />\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          @click=\"confirmSubmitForm\"\n          :disabled=\"!isPasswordCorrect || !isRePasswdCorrect\"\n          size=\"large\"\n          class=\"w-100%\"\n          type=\"primary\">\n          <span class=\"font-bold\">确定重置密码</span>\n        </el-button>\n      </el-form-item>\n    </el-form>\n    <div class=\"text-text-secondary text-0.8rem text-end mb-4\">注：重置后可立即前往登录。</div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\n/**\n * @description 找回账号\n * @author 郑人滏 42020306\n * @since 2023/8/23\n * @link https://github.com/himmelbleu/bleuon-app\n */\n\nimport FindAccountVerifyCode from \"./components/FindAccountVerifyCode.vue\";\nimport FindAccountRsetPassword from \"./components/FindAccountResetPassword.vue\";\n\ndefineProps({\n  dynamicCompName: {\n    type: String,\n    required: true\n  }\n});\ndefineEmits([\"update:dynamicCompName\"]);\n\nconst tabIndex = ref<\"FindAccountRsetPassword\" | \"FindAccountVerifyCode\">(\"FindAccountVerifyCode\");\n\nconst tabs = {\n  FindAccountRsetPassword,\n  FindAccountVerifyCode\n};\n\nconst email = ref(\"\");\n</script>\n\n<template>\n  <div class=\"find-account w-100% h-100% relative f-c-c\">\n    <div class=\"w-40%\">\n      <div class=\"mb-10 text-1.6rem\">找回您的密码</div>\n      <KeepAlive>\n        <component\n          v-model:dynamic-comp-name=\"tabIndex\"\n          v-model:email=\"email\"\n          :is=\"tabs[tabIndex]\"></component>\n      </KeepAlive>\n      <div\n        class=\"f-c-e text-primary cursor-pointer\"\n        @click=\"$emit('update:dynamicCompName', 'Login')\">\n        想起密码？返回登录\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n","<script setup lang=\"ts\">\n/**\n * @description 登录入口路由组件\n * @author 郑人滏 42020306\n * @since 2023/8/23\n * @link https://github.com/himmelbleu/bleuon-app\n */\n\nimport Login from \"./Login.vue\";\nimport Register from \"./Register.vue\";\nimport FindAccount from \"./FindAccount.vue\";\n\nconst tabs = {\n  Login,\n  Register,\n  FindAccount\n};\nconst dynamicCompName = ref<\"Login\" | \"Register\" | \"FindAccount\">(\"Login\");\n</script>\n\n<template>\n  <div class=\"entrance f-c-c h-100vh\">\n    <div class=\"w-40% h-100% relative\">\n      <img src=\"/bleuon-icon.png\" class=\"w-45 h-15 object-cover absolute top-10 left-10\" />\n      <div class=\"absolute top-50% left-30 color-gray-100 text-2rem\">\n        在同一个地方，构思、设计<br />\n        ，让你更加高效<br />\n        <span class=\"text-1rem\">√永久免费 √实时在线 √设计/原型/开发</span>\n      </div>\n      <div class=\"absolute bottom-10 left-10 color-gray-200 text-0.9rem\">\n        © 2023 郑人滏. All rights reserved.\n      </div>\n      <img\n        class=\"w-100% h-100% object-fill\"\n        src=\"https://img.js.design/assets/Resources/background/login-bg-5.jpg\" />\n    </div>\n    <div class=\"w-60% h-100%\">\n      <component\n        v-model:dynamic-comp-name=\"dynamicCompName\"\n        :is=\"tabs[dynamicCompName]\"></component>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n"],"names":["router","useRouter","isAccountCorrect","ref","isPasswordCorrect","formRef","formData","reactive","formRules","accountValidator","passwordValidator","confirmLogin","commitForm","UserApi.accountLogin","interval","coudButtonCount","codeButtonDisabled","isEmailCorrect","isCodeCorrect","emailValidator","verifyCodeValidator","confirmGetVerifyCode","getVerifyCode","callback","UserApi.askMailVerifyCode","confirmSubmitForm","UserApi.verifyMailCode","tabIndex","tabs","AccountLogin","EmailLogin","changeTabIndex","name","isUnameCorrect","isRePasswdCorrect","usernameValidator","rePasswdValidator","confirmRegister","UserApi.accountRegister","ElMessage","AccountRegister","EmailRegister","isVerifySuccess","emits","onMounted","props","UserApi.resetPassword","FindAccountRsetPassword","FindAccountVerifyCode","email","Login","Register","FindAccount","dynamicCompName"],"mappings":"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"}