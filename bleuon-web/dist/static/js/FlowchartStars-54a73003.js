import{d as b,y as N,j as D,M as F,m as k,c as h,b as C,u as l,k as U,a as t,F as E,s as M,z as A,o as i,t as B,w as R,v as c,f as V,E as n,A as S}from"./mainapp-08e4e16e.js";import{c as $,b as T,d as j}from"./api-flowchart-488ff946.js";import{D as H}from"./date-7db10ed7.js";import{d as K}from"./index-98915564.js";import{_ as P,F as z}from"./WorkbenchHeader.vue_vue_type_script_setup_true_lang-34d88b50.js";import"./_plugin-vue_export-helper-5392fbfa.js";import"./el-dropdown-item-1395b2e6.js";import"./el-popper-5620694e.js";import"./error-3ede30a0.js";import"./el-input-2e028abd.js";import"./event-9519ab40.js";import"./el-tag-d377eb68.js";import"./el-select-e493f370.js";import"./strings-13348aef.js";import"./_Uint8Array-876a1517.js";import"./MenuAvatar.vue_vue_type_script_setup_true_lang-f1256a3a.js";import"./el-popover-025678fc.js";const I={class:"flowchart-stars max-h-100vh"},L={class:"px-10 pb-10"},O=t("div",{class:"f-c-b"},[t("div",null,"收藏的流程图"),t("div")],-1),W=t("div",{class:"mt-5 text-text-regular text-0.9rem"},"文件",-1),Y={class:"file-list mt-5 f-c-s flex-wrap flex-gap-1.25rem"},q={class:"f-c-s flex-nowrap mt-4 w-100%"},G=t("div",{class:"mr-2 i-tabler-chart-bubble text-theme-primary"},null,-1),J={class:"text-0.9rem text-ellipsis line-clamp-1"},Q={class:"text-text-secondary text-0.8rem mt-2 f-c-s"},X=t("div",{class:"i-tabler-clock-edit mr-1"},null,-1),Z={class:"f-c-s text-text-secondary text-0.8rem mt-2"},ee=["src"],xe=b({__name:"FlowchartStars",async setup(te){let d,m;const o=N(),r=D("");async function f(s){o.value=await $(s)}async function u(){f({fileName:r.value})}function v(s){K(s,"jpeg",a=>n.success(a),a=>n.error(a))}function w(s){s.fileName="复制_收藏_"+s.fileName,T(s,a=>n.success(a.message))}function x(s,a){j({flowchartId:s},()=>{o.value.splice(a,1),S(o)})}const g=localStorage.getToken(F);function p(s){return s.belongUser.id==g.id}return[d,m]=k(()=>f()),await d,m(),(s,a)=>(i(),h("div",I,[C(P,{value:l(r),"onUpdate:value":a[0]||(a[0]=e=>U(r)?r.value=e:null),onEnterSearch:u},null,8,["value"]),t("div",L,[O,W,t("div",Y,[l(o)?(i(!0),h(E,{key:0},M(l(o),(e,y)=>(i(),B(z,{key:e.id,"file-image":e.dataUri,"file-name":e.fileName,"is-reset":!1,path:p(e)?"/flowchart/"+e.id:"/share/flowchart/"+e.id,onReplicate:_=>w(e),onDelete:_=>x(e.id,y),onDownload:_=>v(e)},{footer:R(()=>[t("div",q,[G,t("div",J,c(e.fileName),1)]),t("div",Q,[X,V(" "+c(l(H).formatted("MM-dd HH:mm:ss",e.modifyDate)),1)]),t("div",Z,[t("img",{src:e.belongUser.avatar,class:"mr-2 w-6 h-6 rd-50%"},null,8,ee),t("div",null,c(p(e)?"我的":e.belongUser.username),1)])]),_:2},1032,["file-image","file-name","path","onReplicate","onDelete","onDownload"]))),128)):A("",!0)])])]))}});export{xe as default};
//# sourceMappingURL=FlowchartStars-54a73003.js.map
