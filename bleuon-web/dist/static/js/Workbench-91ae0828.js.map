{"version":3,"file":"Workbench-91ae0828.js","sources":["../../../apps/mainapp/components/WorkbenchMenu.vue","../../../apps/mainapp/views/workbench/Workbench.vue"],"sourcesContent":["<script lang=\"ts\" setup>\r\n/**\r\n * @description 工作台侧边栏菜单\r\n * @author zheng\r\n * @since 2023/8/23\r\n * @link https://github.com/himmelbleu/bleuon-app\r\n */\r\n\r\nimport type { ActiveItem } from \"@mainapp/typings/workbench\";\r\nimport { FlowchartApi } from \"@mainapp/apis\";\r\n\r\nconst router = useRouter();\r\ndefineProps({\r\n  activeItem: {\r\n    type: String as PropType<ActiveItem>,\r\n    required: true\r\n  }\r\n});\r\nconst emits = defineEmits([\"update:activeItem\"]);\r\n\r\nfunction navigateTo(routerName: ActiveItem) {\r\n  emits(\"update:activeItem\", routerName);\r\n  const rsv = router.resolve({ name: routerName });\r\n  router.push({ name: rsv.name, path: rsv.path });\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currRouterName = router.currentRoute.value.name as ActiveItem;\r\n  emits(\"update:activeItem\", currRouterName);\r\n});\r\n\r\nfunction createFlowchart() {\r\n  FlowchartApi.add(res => {\r\n    router.push(`/flowchart/${res.data.id}`);\r\n  });\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"menu slim-slider h-100vh flow-auto px-5 b-r-1 b-r-solid b-border-primary bg-bg-primary\">\r\n    <div class=\"menu-header\">\r\n      <div class=\"mt-5\">\r\n        <router-link to=\"/\">\r\n          <img class=\"h-15 w-40 object-cover\" src=\"/bleuon-icon.png\" />\r\n        </router-link>\r\n      </div>\r\n      <el-dropdown :teleported=\"false\" class=\"mt-5 w-100%\" trigger=\"click\">\r\n        <el-button class=\"w-100%\" type=\"primary\">＋新建</el-button>\r\n        <template #dropdown>\r\n          <el-dropdown-menu>\r\n            <el-dropdown-item @click=\"createFlowchart\">\r\n              <div class=\"w-40 f-c-s\">\r\n                <div class=\"i-tabler-chart-grid-dots mr-4 text-theme-primary\"></div>\r\n                <div>新建流程图</div>\r\n              </div>\r\n            </el-dropdown-item>\r\n            <el-dropdown-item>\r\n              <div class=\"w-40 f-c-s\">\r\n                <div class=\"i-tabler-chalkboard mr-4 text-theme-primary\"></div>\r\n                <div>新建画布</div>\r\n              </div>\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </template>\r\n      </el-dropdown>\r\n    </div>\r\n    <div class=\"menu-content mt-10 pb-5 b-b-1 b-b-solid b-border-primary\">\r\n      <div\r\n        :class=\"{ active: activeItem == 'auth-flowchart-list' }\"\r\n        class=\"menu-item f-c-s\"\r\n        @click=\"navigateTo('auth-flowchart-list')\">\r\n        <div class=\"mr-2 i-tabler-chart-grid-dots\"></div>\r\n        流程图\r\n      </div>\r\n      <div\r\n        :class=\"{ active: activeItem == 'auth-flowchart-stars' }\"\r\n        class=\"menu-item f-c-s\"\r\n        @click=\"navigateTo('auth-flowchart-stars')\">\r\n        <div class=\"mr-2 i-tabler-star\"></div>\r\n        收藏的流程图\r\n      </div>\r\n      <div\r\n        :class=\"{ active: activeItem == 'auth-canvas-list' }\"\r\n        class=\"menu-item f-c-s\"\r\n        @click=\"navigateTo('auth-canvas-list')\">\r\n        <div class=\"mr-2 i-tabler-chalkboard\"></div>\r\n        画布\r\n      </div>\r\n    </div>\r\n    <div class=\"mt-5 pb-5 b-b-1 b-b-solid b-border-primary\">\r\n      <div\r\n        :class=\"{ active: activeItem == 'auth-template-community' }\"\r\n        class=\"menu-item f-c-s\"\r\n        @click=\"navigateTo('auth-template-community')\">\r\n        <div class=\"mr-2 i-tabler-template\"></div>\r\n        模板社区\r\n      </div>\r\n      <div\r\n        :class=\"{ active: activeItem == 'auth-discussion-community' }\"\r\n        class=\"menu-item f-c-s\"\r\n        @click=\"navigateTo('auth-discussion-community')\">\r\n        <div class=\"mr-2 i-tabler-friends\"></div>\r\n        讨论社区\r\n      </div>\r\n    </div>\r\n    <div class=\"mt-5 pb-5\">\r\n      <div\r\n        :class=\"{ active: activeItem == 'auth-recycle' }\"\r\n        class=\"menu-item f-c-s\"\r\n        @click=\"navigateTo('auth-recycle')\">\r\n        <div class=\"mr-2 i-tabler-trash-x\"></div>\r\n        回收站\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.menu-item {\r\n  --uno: cursor-pointer select-none p-2 rd-2 transition-all-300;\r\n\r\n  &.active {\r\n    --uno: bg-theme-6;\r\n  }\r\n\r\n  &:hover {\r\n    --uno: bg-theme-6;\r\n  }\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\n/**\r\n * @description 工作台页\r\n * @author zheng\r\n * @since 2023/8/23\r\n * @link https://github.com/himmelbleu/bleuon-app\r\n */\r\n\r\nimport type { ActiveItem } from \"@mainapp/typings/workbench\";\r\n\r\n// components\r\nimport WorkbenchMenu from \"@mainapp/components/WorkbenchMenu.vue\";\r\n\r\nconst activeItem = ref<ActiveItem>(\"auth-flowchart-list\");\r\n</script>\r\n\r\n<template>\r\n  <div class=\"workbench f-s-c bg-bg-page\">\r\n    <WorkbenchMenu v-model:active-item=\"activeItem\" class=\"w-17%\"></WorkbenchMenu>\r\n    <div class=\"content h-100vh flow-auto w-83%\">\r\n      <RouterView></RouterView>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["router","useRouter","navigateTo","routerName","emits","rsv","onBeforeMount","currRouterName","createFlowchart","FlowchartApi.add","res","activeItem","ref"],"mappings":"giDAWA,MAAAA,EAAAC,IASA,SAAAC,EAAAC,EAAA,CACEC,EAAA,oBAAAD,CAAA,EACA,MAAAE,EAAAL,EAAA,QAAA,CAAA,KAAAG,CAAA,CAAA,EACAH,EAAA,KAAA,CAAA,KAAAK,EAAA,KAAA,KAAAA,EAAA,IAAA,CAAA,CAA8C,CAGhDC,EAAA,IAAA,CACE,MAAAC,EAAAP,EAAA,aAAA,MAAA,KACAI,EAAA,oBAAAG,CAAA,CAAyC,CAAA,EAG3C,SAAAC,GAAA,CACEC,EAAAC,GAAA,CACEV,EAAA,KAAA,cAAAU,EAAA,KAAA,EAAA,EAAA,CAAuC,CAAA,CACxC,ugDCrBH,MAAAC,EAAAC,EAAA,qBAAA"}