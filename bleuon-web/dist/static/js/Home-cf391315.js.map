{"version":3,"file":"Home-cf391315.js","sources":["../../../apps/mainapp/components/home/Menu.vue","../../../apps/mainapp/views/home/Home.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\n/**\r\n * @description 工作台侧边栏菜单\r\n * @author 郑人滏 42020306\r\n * @since 2023/8/23\r\n * @link https://github.com/himmelbleu/bleuon-app\r\n */\r\n\r\nimport type { ActiveItem } from \"@mainapp/typings/home\";\r\nimport { FlowchartApi } from \"@mainapp/apis\";\r\n\r\nconst router = useRouter();\r\ndefineProps({\r\n  activeItem: {\r\n    type: String as PropType<ActiveItem>,\r\n    required: true\r\n  }\r\n});\r\nconst emits = defineEmits([\"update:activeItem\"]);\r\n\r\nfunction navigateTo(routerName: ActiveItem) {\r\n  emits(\"update:activeItem\", routerName);\r\n  const rsv = router.resolve({ name: routerName });\r\n  router.push({ name: rsv.name, path: rsv.path });\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currRouterName = router.currentRoute.value.name as ActiveItem;\r\n  emits(\"update:activeItem\", currRouterName);\r\n});\r\n\r\nconst disabled = ref(false);\r\n\r\nfunction createFlowchart() {\r\n  FlowchartApi.createOne(data => {\r\n    router.push(`/flowchart/${data.id}`);\r\n  });\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"menu slim-slider h-100vh flow-auto px-5 b-r-1 b-r-solid b-border-primary bg-white\">\r\n    <div class=\"menu__header\">\r\n      <div class=\"mt-5\">\r\n        <img src=\"/bleuon-icon.png\" class=\"h-15 w-40 object-cover\" />\r\n      </div>\r\n      <div class=\"mt-5 relative\">\r\n        <el-button @click=\"disabled = !disabled\" class=\"w-100%\" type=\"primary\">＋新建</el-button>\r\n        <div\r\n          class=\"options__panel select-none p-2 z-2 absolute top-12 left-0 w-65 bg-white rd-2\"\r\n          :class=\"disabled ? 'block' : 'hidden'\">\r\n          <div class=\"f-s-b flex-wrap flex-gap-1\">\r\n            <div class=\"item\" @click=\"createFlowchart\">\r\n              <div class=\"i-tabler-chart-grid-dots mr-1 text-theme-primary\"></div>\r\n              <div>流程图</div>\r\n            </div>\r\n            <div class=\"item\">\r\n              <div class=\"i-tabler-chalkboard mr-1 text-theme-primary\"></div>\r\n              <div>画布</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu__body mt-10 pb-5 b-b-1 b-b-solid b-border-primary\">\r\n      <div\r\n        class=\"menu__item f-c-s\"\r\n        :class=\"{ active: activeItem == 'auth-flowcharts' }\"\r\n        @click=\"navigateTo('auth-flowcharts')\">\r\n        <div class=\"mr-2 i-tabler-chart-grid-dots\"></div>\r\n        流程图\r\n      </div>\r\n      <div\r\n        class=\"menu__item f-c-s\"\r\n        :class=\"{ active: activeItem == 'auth-shares-flowchart' }\"\r\n        @click=\"navigateTo('auth-shares-flowchart')\">\r\n        <div class=\"mr-2 i-tabler-share\"></div>\r\n        我分享的流程图\r\n      </div>\r\n      <div\r\n        class=\"menu__item f-c-s\"\r\n        :class=\"{ active: activeItem == 'auth-stars-flowchart' }\"\r\n        @click=\"navigateTo('auth-stars-flowchart')\">\r\n        <div class=\"mr-2 i-tabler-star\"></div>\r\n        我收藏的流程图\r\n      </div>\r\n      <div\r\n        class=\"menu__item f-c-s\"\r\n        :class=\"{ active: activeItem == 'auth-canvas-list' }\"\r\n        @click=\"navigateTo('auth-canvas-list')\">\r\n        <div class=\"mr-2 i-tabler-chalkboard\"></div>\r\n        画布\r\n      </div>\r\n    </div>\r\n    <div class=\"mt-5 pb-5 b-b-1 b-b-solid b-border-primary\">\r\n      <div\r\n        class=\"menu__item f-c-s\"\r\n        :class=\"{ active: activeItem == 'auth-templates' }\"\r\n        @click=\"navigateTo('auth-templates')\">\r\n        <div class=\"mr-2 i-tabler-template\"></div>\r\n        模板社区\r\n      </div>\r\n      <div\r\n        class=\"menu__item f-c-s\"\r\n        :class=\"{ active: activeItem == 'public-discussion' }\"\r\n        @click=\"navigateTo('public-discussion')\">\r\n        <div class=\"mr-2 i-tabler-friends\"></div>\r\n        讨论社区\r\n      </div>\r\n    </div>\r\n    <div class=\"mt-5 pb-5\">\r\n      <div\r\n        class=\"menu__item f-c-s\"\r\n        :class=\"{ active: activeItem == 'auth-recycle' }\"\r\n        @click=\"navigateTo('auth-recycle')\">\r\n        <div class=\"mr-2 i-tabler-trash-x\"></div>\r\n        回收站\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n.menu__item {\r\n  --uno: cursor-pointer select-none p-3 rd-2 transition-all-300;\r\n\r\n  &.active {\r\n    --uno: bg-#F3F5F9;\r\n  }\r\n\r\n  &:hover {\r\n    --uno: bg-#F3F5F9;\r\n  }\r\n}\r\n\r\n.options__panel {\r\n  box-shadow: 0 6px 16px 1px rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  .item {\r\n    flex: 0 1 48% !important;\r\n    --uno: cursor-pointer px-4 py-2 rd-2 transition-all-300 text-center f-c-s;\r\n\r\n    &:hover {\r\n      --uno: bg-#F3F5F9;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\n/**\r\n * @description 工作台页\r\n * @author 郑人滏 42020306\r\n * @since 2023/8/23\r\n * @link https://github.com/himmelbleu/bleuon-app\r\n */\r\n\r\nimport type { ActiveItem } from \"@mainapp/typings/home\";\r\nimport Menu from \"@mainapp/components/home/Menu.vue\";\r\n\r\nconst activeItem = ref<ActiveItem>(\"auth-flowcharts\");\r\n</script>\r\n\r\n<template>\r\n  <div class=\"home f-s-c bg-#F6F7F8\">\r\n    <Menu class=\"w-17%\" v-model:active-item=\"activeItem\"></Menu>\r\n    <div class=\"content h-100vh flow-auto px-10 pb-10 w-83%\">\r\n      <RouterView></RouterView>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\"></style>\r\n"],"names":["router","useRouter","navigateTo","routerName","emits","rsv","onBeforeMount","currRouterName","disabled","ref","createFlowchart","FlowchartApi.createOne","data","activeItem"],"mappings":"0hDAWA,MAAAA,EAAAC,IASA,SAAAC,EAAAC,EAAA,CACEC,EAAA,oBAAAD,CAAA,EACA,MAAAE,EAAAL,EAAA,QAAA,CAAA,KAAAG,CAAA,CAAA,EACAH,EAAA,KAAA,CAAA,KAAAK,EAAA,KAAA,KAAAA,EAAA,IAAA,CAAA,CAA8C,CAGhDC,EAAA,IAAA,CACE,MAAAC,EAAAP,EAAA,aAAA,MAAA,KACAI,EAAA,oBAAAG,CAAA,CAAyC,CAAA,EAG3C,MAAAC,EAAAC,EAAA,EAAA,EAEA,SAAAC,GAAA,CACEC,EAAAC,GAAA,CACEZ,EAAA,KAAA,cAAAY,EAAA,EAAA,EAAA,CAAmC,CAAA,CACpC,2mDCzBH,MAAAC,EAAAJ,EAAA,iBAAA"}